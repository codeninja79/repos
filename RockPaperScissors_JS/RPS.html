<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RockPaperScissors</title>
    <link rel="stylesheet" href="RPS.css">
</head>
<body>
  <div class="Score">
     <div id="playerScore">Player: </div> 
     <div id="cpuScore">Computer: </div>
     <div id="currentScore"> </div>
     <div id="winQuote"> </div>
  </div>
  <div class="buttons">
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissor">Scissor</button>
  </div>
    <script>
        function getComputerChoice(){
            let rps=['Rock', 'Paper', 'Scissor']
            return rps[Math.floor(Math.random()*rps.length)];
        }
        let pCount=0
        let cCount=0
        let pWin = "You win!!"
        let cWin= "Computer Wins!!"
        const player = document.getElementById("playerScore")
        const cpu = document.getElementById("cpuScore")
        const winner = document.getElementById("winQuote")
        const currentScore = document.getElementById("currentScore")
        
        function playRound(playerSelection,computerSelection){
            let pChoice=playerSelection.toLowerCase()
            let compChoice=computerSelection.toLowerCase()
            
            if(pCount==0 && cCount==0){
              winner.innerText = ' '
            }
            if(pCount===5){
              winner.innerText = `You won the match!! Press any button to continue...`
              pCount=0
              cCount=0
              return
            }
            else if(cCount===5){
              winner.innerText = `CPU won the match!! Press any button to continue...`
              cCount=0
              pCount=0
              return
            }
            console.log("The computer chose: " + compChoice);
            console.log("You chose: " + pChoice);
            if(pChoice=='rock' && compChoice=='paper'){
               cCount++
               currentScore.innerText=`You lose, comp score:  + ${cCount}. `
               return
             }
            else if(pChoice=='rock' && compChoice=='scissor'){
               pCount++
               currentScore.innerText=`You win, your score:  + ${pCount}. `
               return
             }
                
            else if(pChoice=='rock' && compChoice=='rock'){
              currentScore.innerText=`Its a draw. `
              return
             }
                
            if(pChoice=='paper' && compChoice=='paper'){
              currentScore.innerText=`Its a draw. `
              return
             }
               
            else if(pChoice=='paper' && compChoice=='scissor'){
               cCount++
               currentScore.innerText=`You lose, comp score:  + ${cCount}. `
               return
             }
                
            else if(pChoice=='paper' && compChoice=='rock'){
               pCount++
               currentScore.innerText=`You win, your score:   + ${pCount}. `
               return
             }
                
             if(pChoice=='scissor' && compChoice=='paper'){
               pCount++
               currentScore.innerText=`You win, your score:   + ${pCount}. `
               return
             }
               
            else if(pChoice=='scissor' && compChoice=='scissor'){
               currentScore.innerText=`Its a draw. `
               return
             }
                
            else if(pChoice=='scissor' && compChoice=='rock'){
               cCount++
               currentScore.innerText=`You lose, comp score:  + ${cCount}. `
               return
             }
             scoreCount()
             
            
        }
       
        const rock = document.querySelector(".rock");

        rock.addEventListener('click', function() {
          let player = "rock"

          console.log(playRound(player,getComputerChoice()))
          scoreCount()
        });

        const paper = document.querySelector(".paper");

        paper.addEventListener('click', function() {
          let player = "paper"

          console.log(playRound(player,getComputerChoice()))
          scoreCount()
        })

        const scissor = document.querySelector(".scissor");

        scissor.addEventListener('click', function() {
          let player = "scissor"

          console.log(playRound(player,getComputerChoice()))
          scoreCount()
        })
        
        function scoreCount(){
            player.innerText = `Player: ${pCount}`
            cpu.innerText = `Computer: ${cCount}`   

        }
        
    
        
    </script>
    
</body>
</html>